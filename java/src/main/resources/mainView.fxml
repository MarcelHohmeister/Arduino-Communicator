<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.layout.HBox?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.layout.Region?>
<?import java.lang.String?>

<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.AnchorPane?>
<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="net.hohmeima.arduinocommunicator.app.controller.MainController">
    <stylesheets>
        <String fx:value="/buttonStyles.css"/>
        <String fx:value="/layoutStyles.css"/>
    </stylesheets>

    <!-- Oben: Header -->
    <top>
        <VBox styleClass="headerBox" spacing="10">
            <padding>
                <Insets top="10" right="10" bottom="10" left="10"/>
            </padding>

            <AnchorPane>
                <!-- Titel zentriert -->
                <Label text="Arduino Communicator" styleClass="header"
                       layoutX="0" layoutY="0"
                       AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0"
                       alignment="CENTER"/>

                <!-- Speichern-Button links oben -->
                <Button fx:id="saveButton" text="Speichern"
                        styleClass="connectButton"
                        onAction="#handleSaveButton"
                        AnchorPane.leftAnchor="10" AnchorPane.topAnchor="10"/>

                <!-- Statusbereich rechts -->
                <HBox spacing="5" alignment="CENTER_RIGHT"
                      AnchorPane.rightAnchor="10" AnchorPane.topAnchor="10">
                    <ImageView fx:id="connectionStatusIcon" fitWidth="24" fitHeight="24">
                        <image>
                            <Image url="@icons/noConnectionIcon.png"/>
                        </image>
                    </ImageView>
                    <Label fx:id="connectionStatusLabel" text="Nicht verbunden" style="-fx-font-size: 14px; -fx-text-fill: #00979D;"/>
                    <Button fx:id="connectionSettingsButton" text="Verbindung aufbauen"
                            styleClass="connectButton"
                            onAction="#handleButtonPressed"/>
                </HBox>
            </AnchorPane>

            <Region prefHeight="10"/>
        </VBox>
    </top>

    <!-- Mitte: Hauptbereich mit 3 scrollbaren VBoxes in SplitPane -->
    <center>
        <SplitPane fx:id="mainSplitPane" orientation="HORIZONTAL">

            <!-- Projekte -->
            <ScrollPane fx:id="projectScrollPane" fitToWidth="true" VBox.vgrow="ALWAYS"
                        styleClass="scroll-pane" minWidth="440">
                <content>
                    <VBox fx:id="projectPane" styleClass="left-column base-column" alignment="TOP_CENTER" spacing="10">
                        <padding>
                            <Insets top="20" right="10" bottom="20" left="10"/>
                        </padding>
                        <Label text="Projekte" styleClass="myColumnTextStyle"/>
                        <Button text="Projekt hinzufügen" styleClass="projectAddObjectStyle" onAction="#handleButtonPressed"/>
                    </VBox>
                </content>
            </ScrollPane>

            <!-- Module -->
            <ScrollPane fx:id="moduleScrollPane" fitToWidth="true" VBox.vgrow="ALWAYS"
                        styleClass="scroll-pane" minWidth="370">
                <content>
                    <VBox fx:id="modulePane" styleClass="middle-column base-column" alignment="TOP_CENTER" spacing="10">
                        <padding>
                            <Insets top="20" right="10" bottom="20" left="10"/>
                        </padding>
                        <Label text="Projekt Module" styleClass="myColumnTextStyle"/>
                        <Button text="Modul hinzufügen" styleClass="projectAddObjectStyle" onAction="#handleButtonPressed"/>
                    </VBox>
                </content>
            </ScrollPane>

            <!-- Konsole -->
            <ScrollPane fx:id="consoleScrollPane" fitToWidth="true" VBox.vgrow="ALWAYS"
                        styleClass="scroll-pane" minWidth="250">
                <content>
                    <VBox fx:id="consolePane" styleClass="right-column base-column" alignment="TOP_CENTER" spacing="10">
                        <padding>
                            <Insets top="20" right="10" bottom="20" left="10"/>
                        </padding>
                        <Label text="Konsole" styleClass="myColumnTextStyle"/>
                    </VBox>
                </content>
            </ScrollPane>
        </SplitPane>
    </center>
</BorderPane>